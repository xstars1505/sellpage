<div class="container">
  <div class="row page-top">
    <div class="col-sm-6 offset-sm-3">
      <h1>Checkout</h1>
    </div>
  </div>

  <div class="row">
    <div class="col-lg-9 col-md-12">
      <form-wizard>
        <wizard-step [title]="'Address'" [isValid]="shippingForm.valid" [icon]="'fa-map-marker'">
          <form [formGroup]="shippingForm">
            <h3>Shipping Address</h3>
            <div class="form-row">
              <div class="form-group col-md-6">
                <label for="firstName">First Name</label>
                <input type="tel" class="form-control" id="firstName" formControlName="firstName" placeholder="First Name"
                       [ngClass]="{'is-invalid': !shippingForm.get('firstName').untouched && shippingForm.get('firstName').errors}">
                <p class="error" [hidden]="shippingForm.get('firstName').valid || shippingForm.get('firstName').untouched">
                  The first name is required.
                </p>
              </div>
              <div class="form-group col-md-6">
                <label for="lastName">Last Name</label>
                <input type="text" class="form-control" id="lastName" formControlName="lastName" placeholder="Last Name"
                      [ngClass]="{'is-invalid': !shippingForm.get('lastName').untouched && shippingForm.get('lastName').errors}">
                <p class="error" [hidden]="shippingForm.get('lastName').valid || shippingForm.get('lastName').untouched">
                  The last name is required.
                </p>
              </div>
            </div>
            <div class="form-group">
              <label for="phoneNumber">Phone Number</label>
              <input type="text" class="form-control" id="phoneNumber" formControlName="phoneNumber" placeholder="123 456 789" phone-number-input
                     [ngClass]="{'is-invalid': !shippingForm.get('phoneNumber').untouched && !shippingForm.get('phoneNumber').valid}">
              <div *ngIf="!shippingForm.get('phoneNumber').untouched">
                <p class="error" [hidden]="!shippingForm.get('phoneNumber').hasError('required')">Phone Number is required</p>
                <p class="error" [hidden]="!shippingForm.get('phoneNumber').hasError('invalidPhoneNumber')">Phone Number is invalid</p>
              </div>
            </div>
            <div class="form-group">
              <label for="address">Address</label>
              <input type="text" class="form-control" id="address" formControlName="address" placeholder="1234 Main St"
                     [ngClass]="{'is-invalid': !shippingForm.get('address').untouched && shippingForm.get('address').errors}">
              <p class="error" [hidden]="shippingForm.get('address').valid || shippingForm.get('address').untouched">
                The address is required.
              </p>
            </div>
            <div class="form-row">
              <div class="form-group col-md-6">
                <label for="city">City</label>
                <input type="text" class="form-control" id="city" for="city" formControlName="city"
                       [ngClass]="{'is-invalid': !shippingForm.get('city').untouched && shippingForm.get('city').errors}">
                <p class="error" [hidden]="shippingForm.get('city').valid || shippingForm.get('city').untouched">
                  The city is required.
                </p>
              </div>
              <div class="form-group col-md-3">
                <label for="inputState">State</label>
                <select id="inputState" class="form-control">
                  <option selected>Choose...</option>
                  <option>...</option>
                </select>
              </div>
              <div class="form-group col-md-3">
                <label for="zipCode">Zip</label>
                <input type="text" class="form-control" id="zipCode" formControlName="zipCode"
                       [ngClass]="{'is-invalid': !shippingForm.get('zipCode').untouched && shippingForm.get('zipCode').errors}">
                <p class="error" [hidden]="shippingForm.get('zipCode').valid || shippingForm.get('zipCode').untouched">
                  The zip code is required.
                </p>
              </div>
            </div>
            <div>
              <h3>Delivery</h3>
            </div>
            <div class="form-group">
              <div class="form-check">
                <label class="form-check-label">
                  <input class="form-check-input" type="radio"> Standard shipping
                </label>
              </div>
            </div>
            <div class="form-group">
              <div class="form-check">
                <label class="form-check-label">
                  <input class="form-check-input" type="radio"> Advanced shipping
                </label>
              </div>
            </div>
          </form>
        </wizard-step>
        <wizard-step [title]="'Delivery Method'" (onNext)="onStep2Next($event)" [icon]="'fa-truck'">
          <h1>Step2</h1>
        </wizard-step>
        <wizard-step [title]="'Payment Method'" (onNext)="onStep2Next($event)" [icon]="'fa-money'">
          <h1>Step2</h1>
        </wizard-step>
        <wizard-step [title]="'Order Review'" (onNext)="onStep2Next($event)" [icon]="'fa-eye'">
          <h1>Step2</h1>
        </wizard-step>
      </form-wizard>
    </div>
    <div class="col-lg-3 col-md-12 right-sidebar">
      <div class="table-block">
        <h2>Order Summary</h2>
        <div class="table-responsive">
          <table class="table">
            <tbody>
            <tr>
              <td>Price</td>
              <td>$216.51</td>
            </tr>
            <tr>
              <td>Total tax</td>
              <td>$0.00</td>
            </tr>
            <tr>
              <td>Sub-Total</td>
              <th class="cart-total-price" id="total-price">{{ '111' | currency:'USD':true }}</th>
            </tr>
            <tr>
              <td colspan="2">
                <div class="col-md-12 col-sm-8 no-padding">
                  <div class="input-group">
                    <input type="text" class="form-control" [(ngModel)]="couponCode" placeholder="Coupon Code">
                    <span class="input-group-btn">
                        <button type="button" class="btn btn-third" (click)="applyCouponCode(couponCode)" [disabled]="!couponCode">Apply</button>
                    </span>
                  </div>
                  <div class="error" [hidden]="!errorMess">{{ errorMess }}</div>
                </div>
              </td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>

